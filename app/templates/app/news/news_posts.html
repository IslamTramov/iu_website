{% extends "app/base_layout.html" %}

{% block title %} Новости {% endblock %}

{% block content %}
<h1 class="text-center news-title">Новости</h1> <!-- id, title, text, author_id, created_date -->
<h2 class="text-center news-description">Здесь мы публикуем новости о жизни нашего факультета</h2>
{% for news_post in news_posts %}
<div class="post">
  {% if news_post.image %}
    <img src="{{ news_post.image.url }}"> 
  {% endif %}
  <div class="info">
    <div class="title">
      <a href="{% url 'news_post_detail' news_post.id %}">
        {{ news_post.title }}
      </a>
    </div>
    <div class="text">{{ news_post.text|truncatechars:80 }}</div>
    <div class="caption">{{ news_post.creation_date|date:"d.m.Y H:i"}}</div>
    <div class="caption">{{ news_post.author.username }}</div>
  </div>
</div>

{% endfor %}

{% if news_posts.has_previous %}
  <div style="gap:15px;display:flex;padding:15px 0px;">
    <a href="?page=1">&laquo First</a>
    <a href="?page={{ news_posts.previous_page_number }}">Previous</a>
  </div>
{% endif %}

<div class="page-counter">Page {{ news_posts.number }} of {{ news_posts.paginator.num_pages }}</div>

{% if news_posts.has_next %}
  <div style="gap:15px;display:flex;padding:15px 0px;">
    <a href="?page={{ news_posts.next_page_number }}">Next</a>
    <a href="?page={{ news_posts.paginator.num_pages }}">Last &raquo</a>
  </div>
{% endif %}

{% endblock %}
